<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Internships — Multi-step Application</title>
  <style>
    :root{
      --brand:#0b5cff;
      --muted:#6b7280;
      --bg:#f7f9fc;
      --card:#ffffff;
      --success:#16a34a;
      font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:#0f172a}
    .topbar{background:#fff;border-bottom:1px solid #e6eef8}
    .container{max-width:1000px;margin:0 auto;padding:1rem}
    .brand{display:inline-flex;align-items:center;gap:.5rem;text-decoration:none;color:inherit;font-weight:600}
    .logo{width:28px;height:28px}
    .nav{float:right}
    .nav a{margin-left:1rem;text-decoration:none;color:var(--muted)}
    .nav a.btn{padding:.4rem .75rem;border-radius:6px;background:var(--brand);color:#fff}

    main.container{display:block;padding:2rem 1rem}
    .wizard{display:grid;grid-template-columns:360px 1fr;gap:1.5rem}

    /* Sidebar / progress */
    .sidebar{background:var(--card);padding:1rem;border-radius:10px;box-shadow:0 6px 18px rgba(12,24,48,0.06)}
    .progress{height:10px;background:#e6eef8;border-radius:999px;overflow:hidden;margin:1rem 0}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--brand),#4f46e5);width:0%}
    .steps{display:flex;flex-direction:column;gap:.6rem}
    .steps button{display:flex;align-items:center;gap:.6rem;padding:.6rem;border-radius:8px;border:1px solid transparent;background:transparent;cursor:pointer}
    .steps button.active{background:#f0f7ff;border-color:#e1efff}
    .step-dot{width:10px;height:10px;border-radius:50%;background:#c7d2fe}
    .steps small{color:var(--muted)}

    /* Form card */
    .card{background:var(--card);padding:1.25rem;border-radius:10px;box-shadow:0 6px 18px rgba(12,24,48,0.04)}
    h1{margin:0;font-size:1.25rem}
    .subtitle{color:var(--muted);margin-top:.35rem}

    form .step{display:none}
    form .step.active{display:block}
    .field{margin:0.75rem 0}
    label{display:block;font-size:.9rem;margin-bottom:.3rem}
    input[type=text], input[type=email], input[type=tel], select, input[type=file], input[type=number]{width:100%;padding:.6rem;border:1px solid #e6eef8;border-radius:8px;background:#fff}

    .btns{display:flex;gap:.75rem;margin-top:1rem;justify-content:flex-end}
    .btn{padding:.6rem 0.9rem;border-radius:8px;border:0;background:var(--brand);color:#fff;cursor:pointer}
    .btn.ghost{background:transparent;color:var(--brand);border:1px solid #e6eef8}

    /* skills */
    .chips{display:flex;flex-wrap:wrap;gap:.5rem;padding:.35rem;border:1px dashed #e6eef8;border-radius:8px}
    .chip{padding:.35rem .6rem;border-radius:999px;background:#eef2ff;border:1px solid #e0e7ff;font-size:.85rem;display:inline-flex;gap:.4rem;align-items:center}
    .chip button{border:0;background:transparent;cursor:pointer}

    /* internship cards */
    .cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1rem;margin-top:.75rem}
    .intern-card{padding:.9rem;border-radius:10px;border:1px solid #eef2ff;background:linear-gradient(180deg,#fff,#fbfdff);cursor:pointer}
    .intern-card.selected{outline:3px solid rgba(11,92,255,0.12)}
    .intern-card h4{margin:0 0 .3rem}
    .muted{color:var(--muted);font-size:.9rem}

    /* summary modal */
    .modal{position:fixed;left:0;right:0;top:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(2,6,23,0.45);visibility:hidden;opacity:0;transition:all .15s}
    .modal.show{visibility:visible;opacity:1}
    .modal .dialog{width:640px;max-width:95%;background:#fff;padding:1rem;border-radius:10px}

    footer.site-footer{margin-top:2rem;padding:1rem;border-top:1px solid #e6eef8;background:transparent;text-align:center;color:var(--muted)}

    @media (max-width:900px){
      .wizard{grid-template-columns:1fr;}
      .nav{display:none}
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="container">
      <a class="brand" href="#">
        <svg class="logo" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2" y="2" width="20" height="20" rx="5" fill="#0b5cff"></rect></svg>
        AI Allocation
      </a>
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="internships.html">Internships</a>
        <a href="about.html">About</a>
        <a href="contact.html" class="btn">Contact</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <h1>Internship Application — 4 Step Wizard</h1>
    <p class="subtitle">Follow the steps: 1) Student info → 2) Resume & education → 3) Skills → 4) Choose internship</p>

    <div class="wizard" role="application" aria-label="Internship application wizard">

      <aside class="sidebar" aria-hidden="false">
        <div><strong>Progress</strong></div>
        <div class="progress" aria-hidden="true"><i id="progressbar"></i></div>
        <div class="steps" id="sidebarSteps">
          <button type="button" data-step="0" class="active"><span class="step-dot"></span><div style="flex:1;text-align:left"><strong>1. Student info</strong><br><small class="muted">Personal details & contact</small></div></button>
          <button type="button" data-step="1"><span class="step-dot"></span><div style="flex:1;text-align:left"><strong>2. Resume & education</strong><br><small class="muted">Upload resume + degree</small></div></button>
          <button type="button" data-step="2"><span class="step-dot"></span><div style="flex:1;text-align:left"><strong>3. Skills</strong><br><small class="muted">Add skills & experience</small></div></button>
          <button type="button" data-step="3"><span class="step-dot"></span><div style="flex:1;text-align:left"><strong>4. Choose internship</strong><br><small class="muted">Pick your preferred role</small></div></button>
        </div>
      </aside>

      <section>
        <div class="card">
          <form id="internshipWizard">

            <!-- Step 1 -->
            <div class="step active" data-step="0">
              <h2>Student information</h2>
              <div class="field">
                <label for="fullName">Full name *</label>
                <input id="fullName" name="fullName" type="text" required />
              </div>
              <div class="field">
                <label for="email">Email *</label>
                <input id="email" name="email" type="email" required />
              </div>
              <div class="field">
                <label for="phone">Phone</label>
                <input id="phone" name="phone" type="tel" />
              </div>
              <div class="field">
                <label for="state">State</label>
                <select id="stateSelect" name="state">
                  <option value="">Select state</option>
                  <option>Gujarat</option>
                  <option>Maharashtra</option>
                  <option>Delhi</option>
                  <option>Karnataka</option>
                </select>
              </div>
              <div class="btns">
                <button type="button" class="btn ghost" id="toStep2">Next</button>
              </div>
            </div>

            <!-- Step 2 -->
            <div class="step" data-step="1">
              <h2>Resume & education</h2>
              <div class="field">
                <label for="resume">Upload resume (PDF, DOCX)</label>
                <input id="resume" name="resume" type="file" accept=".pdf,.doc,.docx" />
                <small class="muted" id="resumeName"></small>
              </div>

              <div class="field">
                <label for="degree">Highest degree</label>
                <select id="degree" name="degree">
                  <option value="">Select degree</option>
                  <option>Bachelor's</option>
                  <option>Master's</option>
                  <option>Diploma</option>
                </select>
              </div>

              <div class="field">
                <label for="college">College / University</label>
                <input id="college" name="college" type="text" />
              </div>

              <div class="field">
                <label for="gradYear">Graduation year</label>
                <input id="gradYear" name="gradYear" type="number" min="1900" max="2100" />
              </div>

              <div class="btns">
                <button type="button" class="btn ghost" data-action="back">Back</button>
                <button type="button" class="btn" id="toStep3">Next</button>
              </div>
            </div>

            <!-- Step 3 -->
            <div class="step" data-step="2">
              <h2>Skills & experience</h2>
              <div class="field">
                <label for="skillInput">Add a skill (press Enter)</label>
                <input id="skillInput" type="text" placeholder="e.g. Python, React, Figma" />
              </div>
              <div class="field">
                <div class="chips" id="skillsList" aria-live="polite"></div>
              </div>

              <div class="field">
                <label for="experience">Months of experience (approx)</label>
                <input id="experience" name="experience" type="number" min="0" max="600" />
              </div>

              <div class="btns">
                <button type="button" class="btn ghost" data-action="back">Back</button>
                <button type="button" class="btn" id="toStep4">Next</button>
              </div>
            </div>

            <!-- Step 4 -->
            <div class="step" data-step="3">
              <h2>Choose internship</h2>
              <div class="field">
                <label for="searchIntern">Search / Filter</label>
                <input id="searchIntern" placeholder="Search by title, skill or location..." />
              </div>
              <div class="cards-grid" id="internshipList" role="list"></div>

              <div class="btns">
                <button type="button" class="btn ghost" data-action="back">Back</button>
                <button type="submit" class="btn">Submit application</button>
              </div>
            </div>

          </form>
        </div>

        <div style="margin-top:.75rem;color:var(--muted);font-size:.9rem">Tip: you can upload your resume and add multiple skills. Click an internship card to select it.</div>
      </section>
    </div>

  </main>

  <footer class="site-footer">
    <div class="container">
      <p>© 2025 AI-Based Smart Allocation Engine — Prototype. Not an official government site.</p>
    </div>
  </footer>

  <!-- Summary Modal -->
  <div id="summaryModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="dialog">
      <h3>Application summary</h3>
      <div id="summaryContent"></div>
      <div style="display:flex;justify-content:flex-end;margin-top:1rem;gap:.6rem">
        <button id="closeSummary" class="btn ghost">Close</button>
        <button id="confirmSubmit" class="btn">Confirm & send</button>
      </div>
    </div>
  </div>

  <script>
    // --- Wizard control ---
    const steps = Array.from(document.querySelectorAll('.step'));
    const sidebarBtns = Array.from(document.querySelectorAll('.steps button'));
    const progress = document.getElementById('progressbar');
    let currentStep = 0;

    function showStep(index){
      currentStep = Math.max(0, Math.min(index, steps.length-1));
      steps.forEach((s,i)=> s.classList.toggle('active', i===currentStep));
      sidebarBtns.forEach((b,i)=> b.classList.toggle('active', i===currentStep));
      const pct = Math.round((currentStep)/(steps.length-1)*100);
      progress.style.width = pct + '%';
      // focus first input of step
      const first = steps[currentStep].querySelector('input,select,textarea,button');
      if(first) first.focus();
    }

    // sidebar navigation
    sidebarBtns.forEach(btn => btn.addEventListener('click', (e)=>{
      const step = Number(btn.dataset.step);
      // allow jump only backwards or currently valid
      if(step<=currentStep || validateStep(currentStep)) showStep(step);
    }));

    // Next/back wiring
    document.querySelectorAll('[data-action="back"]').forEach(btn=>btn.addEventListener('click',()=>showStep(currentStep-1)));
    document.getElementById('toStep2').addEventListener('click', ()=>{ if(validateStep(0)) showStep(1); });
    document.getElementById('toStep3').addEventListener('click', ()=>{ if(validateStep(1)) showStep(2); });
    document.getElementById('toStep4').addEventListener('click', ()=>{ if(validateStep(2)) showStep(3); });

    function validateStep(idx){
      // simple validation per step
      if(idx===0){
        const name = document.getElementById('fullName');
        const email = document.getElementById('email');
        if(!name.value.trim()){ alert('Please enter your full name.'); name.focus(); return false }
        if(!email.value.trim()){ alert('Please enter your email.'); email.focus(); return false }
      }
      if(idx===1){
        // no strict required but example: ensure degree or resume
        const resume = document.getElementById('resume');
        const degree = document.getElementById('degree');
        if(!resume.files.length && !degree.value){
          if(!confirm('No resume uploaded and no degree selected. Continue?')) return false;
        }
      }
      if(idx===2){
        // ensure at least one skill added
        const skills = document.getElementById('skillsList').children;
        if(skills.length===0){ if(!confirm('You have not added any skills. Continue?')) return false }
      }
      return true;
    }

    // --- Resume preview ---
    const resumeEl = document.getElementById('resume');
    const resumeName = document.getElementById('resumeName');
    resumeEl.addEventListener('change', ()=>{
      if(resumeEl.files.length) resumeName.textContent = 'Selected: ' + resumeEl.files[0].name;
      else resumeName.textContent = '';
    });

    // --- Skills chips ---
    const skillInput = document.getElementById('skillInput');
    const skillsList = document.getElementById('skillsList');
    function addSkill(text){
      text = text.trim(); if(!text) return;
      // avoid duplicates
      const exists = Array.from(skillsList.children).some(c=>c.dataset.value.toLowerCase()===text.toLowerCase());
      if(exists) return;
      const chip = document.createElement('span');
      chip.className='chip'; chip.dataset.value=text; chip.innerHTML = `<span>${text}</span> <button type=button aria-label="Remove skill">✕</button>`;
      chip.querySelector('button').addEventListener('click', ()=> chip.remove());
      skillsList.appendChild(chip);
      skillInput.value='';
    }
    skillInput.addEventListener('keydown', (e)=>{
      if(e.key==='Enter' || e.key===','){
        e.preventDefault(); addSkill(skillInput.value);
      }
    });

    // --- Sample internships & selection ---
    const sampleInternships = [
      {id:1, title:'Frontend Development Intern', domain:'Web Development', state:'Gujarat', desc:'Work with React & Tailwind to build UI components.'},
      {id:2, title:'Data Science Intern', domain:'Data Science', state:'Karnataka', desc:'Explore datasets and build ML models.'},
      {id:3, title:'Product Management Intern', domain:'Product Management', state:'Delhi', desc:'Assist PMs in roadmap and user research.'},
      {id:4, title:'UI/UX Design Intern', domain:'Design', state:'Maharashtra', desc:'Create wireframes and clickable prototypes.'}
    ];

    const internshipListEl = document.getElementById('internshipList');
    let selectedInternshipId = null;

    function renderInternships(filterText=''){
      internshipListEl.innerHTML='';
      const ft = filterText.trim().toLowerCase();
      sampleInternships.filter(i=>{
        if(!ft) return true;
        return (i.title + ' ' + i.domain + ' ' + i.state + ' ' + i.desc).toLowerCase().includes(ft);
      }).forEach(i=>{
        const card = document.createElement('div');
        card.className='intern-card'; card.tabIndex=0; card.role='listitem';
        card.innerHTML = `<h4>${i.title}</h4><div class="muted">${i.domain} • ${i.state}</div><p class="muted" style="margin-top:.5rem">${i.desc}</p>`;
        card.addEventListener('click', ()=>{
          selectedInternshipId = i.id;
          document.querySelectorAll('.intern-card').forEach(c=>c.classList.remove('selected'));
          card.classList.add('selected');
        });
        card.addEventListener('keydown',(e)=>{ if(e.key==='Enter'){ card.click() } });
        internshipListEl.appendChild(card);
      });
    }
    renderInternships();

    document.getElementById('searchIntern').addEventListener('input',(e)=>renderInternships(e.target.value));

    // --- Form submit: show summary modal ---
    const form = document.getElementById('internshipWizard');
    const modal = document.getElementById('summaryModal');
    const summaryContent = document.getElementById('summaryContent');

    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      // validate last step
      if(!selectedInternshipId){ alert('Please select an internship from step 4.'); return }
      // gather values
      const data = {
        fullName: document.getElementById('fullName').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        state: document.getElementById('stateSelect').value,
        resume: (resumeEl.files[0] && resumeEl.files[0].name) || 'No file',
        degree: document.getElementById('degree').value,
        college: document.getElementById('college').value,
        gradYear: document.getElementById('gradYear').value,
        skills: Array.from(skillsList.children).map(c=>c.dataset.value),
        experience: document.getElementById('experience').value,
        internship: sampleInternships.find(i=>i.id===selectedInternshipId)
      };
      // render summary
      summaryContent.innerHTML = `
        <p><strong>${data.fullName}</strong> — ${data.email}</p>
        <p class="muted">Phone: ${data.phone || '-'} • State: ${data.state || '-'}</p>
        <hr>
        <p><strong>Resume:</strong> ${data.resume}</p>
        <p><strong>Education:</strong> ${data.degree || '-'} at ${data.college || '-'} (${data.gradYear || '-'})</p>
        <p><strong>Skills:</strong> ${data.skills.length? data.skills.join(', ') : 'None'}</p>
        <p class="muted">Experience: ${data.experience || '0'} months</p>
        <hr>
        <p><strong>Selected internship:</strong> ${data.internship.title} <span class="muted">(${data.internship.domain} • ${data.internship.state})</span></p>
      `;
      modal.classList.add('show'); modal.setAttribute('aria-hidden','false');
    });

    document.getElementById('closeSummary').addEventListener('click', ()=>{ modal.classList.remove('show'); modal.setAttribute('aria-hidden','true'); });
    document.getElementById('confirmSubmit').addEventListener('click', ()=>{
      // Here you'd normally send data to server via fetch()/XHR.
      modal.classList.remove('show'); modal.setAttribute('aria-hidden','true');
      alert('Application submitted — demo only. In production, send the form to your server.');
      form.reset(); skillsList.innerHTML=''; selectedInternshipId=null; renderInternships(); showStep(0);
    });

    // initialize
    showStep(0);
  </script>
</body>
</html>
